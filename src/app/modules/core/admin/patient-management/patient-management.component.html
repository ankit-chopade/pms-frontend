<div>
    <div fxLayoutAlign="center center" fxFlexFill>
        <h1>Patient Management</h1>
    </div>
    <div>
        <mat-form-field appearance="fill">
            <input matInput placeholder="search here..." autocomplete="off" (keyup)="filterData($event)">
        </mat-form-field>
   </div>
    <table mat-table [dataSource]="patientData" matShort layout-align="center center">
        <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef mat-short-header>Id</th>
            <td mat-cell *matCellDef="let element">{{element.userId}}</td>
        </ng-container>

        <ng-container matColumnDef="title">
            <th mat-header-cell *matHeaderCellDef mat-short-header>Title</th>
            <td mat-cell *matCellDef="let element">{{element.title}}</td>
        </ng-container>

        <ng-container matColumnDef="first_name">
            <th mat-header-cell *matHeaderCellDef mat-short-header>First Name</th>
            <td mat-cell *matCellDef="let element">{{element.firstName}}</td>
        </ng-container>

        <ng-container matColumnDef="last_name">
            <th mat-header-cell *matHeaderCellDef mat-short-header>Last Name</th>
            <td mat-cell *matCellDef="let element">{{element.lastName}}</td>
        </ng-container>
        <ng-container matColumnDef="dateofregistration">
            <th mat-header-cell *matHeaderCellDef> Date of Registration </th>
            <td mat-cell *matCellDef="let element">{{element.createdDate | date: 'dd-MMM-yyyy'}} </td>
        </ng-container>
        <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef> status</th>
            <td mat-cell *matCellDef="let element">
                {{element.activeStatus == 1 ? "active" : element.activeStatus == 0 ? "in-active" : "blocked" }}
            </td>
        </ng-container>
        <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef>action</th>
            <td mat-cell *matCellDef="let element">
               
                <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="change status">
                    <mat-icon>more_vert</mat-icon>
                  </button>
                  <mat-menu #menu="matMenu">
                      <button mat-menu-item  href="javascript:void(0)" *ngIf="element.activeStatus!=1"
                        (click)="updateStatus(element.userId,1)">
                        Active
                     </button>
                      <button mat-menu-item href="javascript:void(0)" *ngIf="element.activeStatus!=0"
                        (click)="updateStatus(element.userId,0)">
                         In-Active
                      </button>
                      <button mat-menu-item href="javascript:void(0)" *ngIf="element.activeStatus!=2"
                      (click)="updateStatus(element.userId,2)">
                          Block
                      </button>
                  </mat-menu>
                   
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
        <tr mat-row *matRowDef="let myRowData; columns: columnsToDisplay"></tr>
    </table>

 
        <mat-paginator 
            #paginator 
            [pageSize]="5" 
            [pageSizeOptions]="[5,10,25,50,100,150]" >
            
        </mat-paginator>
    
</div>